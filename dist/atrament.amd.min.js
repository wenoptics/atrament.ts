define("atramentJs",[],(function(){return function(t){var e={};function s(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(i,o,function(e){return t[e]}.bind(null,o));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){t.exports=s(1)},function(t,e,s){"use strict";s.r(e);class i{constructor(t,e){this.x=t,this.y=e}set(t,e){this.x=t,this.y=e}}class o extends i{constructor(){super(0,0),this.down=!1,this.previous=new i(0,0)}}const n=100,r=1,h=50-r,a=.5,c=.87,d=.85,u=10,l=2;function f(t,e,s,i){const o=Math.pow(s-t,2),n=Math.pow(i-e,2);return Math.sqrt(o+n)}function v(t,e,s,i,o){return n=>{const r=t[n],h=t[n+1],a=t[n+2],c=t[n+3];return r===e&&h===s&&a===i&&c===o}}class m{constructor(){this.eventListeners=new Map}addEventListener(t,e){const s=this.eventListeners.get(t)||new Set;s.add(e),this.eventListeners.set(t,s)}removeEventListener(t,e){const s=this.eventListeners.get(t);s&&s.delete(e)}dispatchEvent(t,e){const s=this.eventListeners.get(t);s&&s.forEach(t=>t(e))}}function p(t,e){for(let s=0;s<t.length;s++)if(t[s]===e)return!0;return!1}function g(t,e){const s="changedTouches"in t&&t.changedTouches[0]||t;return{x:"offsetX"in s?s.offsetX:s.clientX-e.left,y:"offsetY"in s?s.offsetY:s.clientY-e.top}}var w;!function(t){t.DRAW="draw",t.ERASE="erase",t.FILL="fill",t.DISABLED="disabled"}(w||(w={}));const y=[w.DRAW,w.ERASE];class k extends m{constructor(t,e={}){if("undefined"==typeof window)throw new Error("Looks like we're not running in a browser");if(super(),t instanceof window.Node&&"CANVAS"===t.tagName)this.canvas=t;else{if("string"!=typeof t)throw new Error(`can't look for canvas based on '${t}'`);this.canvas=document.querySelector(t)}if(!this.canvas)throw new Error("canvas not found");this.canvas.width=e.width||this.canvas.width,this.canvas.height=e.height||this.canvas.height,this.mouse=new o;const s=t=>{t.cancelable&&t.preventDefault();const e=this.canvas.getBoundingClientRect(),{x:s,y:i}=g(t,e),{mouse:o}=this;if(o.down&&p(y,this.mode)){const{x:t,y:e}=this.draw(s,i,o.previous.x,o.previous.y);this._dirty||this.mode!==w.DRAW||s===o.x&&i===o.y||(this._dirty=!0,this.fireDirty()),o.set(s,i),o.previous.set(t,e)}else o.set(s,i)},i=t=>{if(t.cancelable&&t.preventDefault(),s(t),this.mode===w.FILL)return void this.fill();const{mouse:e}=this;e.previous.set(e.x,e.y),e.down=!0,this.beginStroke(e.previous.x,e.previous.y)},n=t=>{if(this.mode===w.FILL)return;const{mouse:e}=this;if(!e.down)return;const s=this.canvas.getBoundingClientRect(),{x:i,y:o}=g(t,s);if(e.down=!1,e.x===i&&e.y===o&&p(y,this.mode)){const{x:t,y:s}=this.draw(e.x,e.y,e.previous.x,e.previous.y);e.previous.set(t,s)}this.endStroke(e.x,e.y)};this.canvas.addEventListener("mousemove",s),this.canvas.addEventListener("mousedown",i),document.addEventListener("mouseup",n),this.canvas.addEventListener("touchstart",i),this.canvas.addEventListener("touchend",n),this.canvas.addEventListener("touchmove",s),this.destroy=()=>{this.clear(),this.canvas.removeEventListener("mousemove",s),this.canvas.removeEventListener("mousedown",i),document.removeEventListener("mouseup",n),this.canvas.removeEventListener("touchstart",i),this.canvas.removeEventListener("touchend",n),this.canvas.removeEventListener("touchmove",s)},this.context=this.canvas.getContext("2d"),this.context.globalCompositeOperation="source-over",this.context.globalAlpha=1,this.context.strokeStyle=e.color||"rgba(0,0,0,1)",this.context.lineCap="round",this.context.lineJoin="round",this.context.translate(.5,.5),this._filling=!1,this._fillStack=[],this.recordStrokes=!1,this.strokeMemory=[],this.smoothing=d,this._thickness=l,this._targetThickness=this._thickness,this._weight=this._thickness,this._maxWeight=this._thickness+u,this._mode=w.DRAW,this.adaptiveStroke=!0,void 0!==e.weight&&(this.weight=e.weight),void 0!==e.smoothing&&(this.smoothing=e.smoothing),void 0!==e.adaptiveStroke&&(this.adaptiveStroke=e.adaptiveStroke),void 0!==e.mode&&(this.mode=e.mode)}beginStroke(t,e){this.context.beginPath(),this.context.moveTo(t,e),this.recordStrokes&&(this.strokeTimestamp=performance.now(),this.strokeMemory.push({point:new i(t,e),time:performance.now()-this.strokeTimestamp})),this.dispatchEvent("strokestart",{x:t,y:e})}endStroke(t,e){if(this.context.closePath(),this.recordStrokes&&this.strokeMemory.push({point:new i(t,e),time:performance.now()-this.strokeTimestamp}),this.dispatchEvent("strokeend",{x:t,y:e}),this.recordStrokes){const t={points:this.strokeMemory.slice(),mode:this.mode,weight:this.weight,smoothing:this.smoothing,color:this.color,adaptiveStroke:this.adaptiveStroke};this.dispatchEvent("strokerecorded",{stroke:t})}this.strokeMemory=[],delete this.strokeTimestamp}draw(t,e,s,o){this.recordStrokes&&this.strokeMemory.push({point:new i(t,e),time:performance.now()-this.strokeTimestamp});const{context:n}=this,d=f(t,e,s,o),u=Math.min(c,this.smoothing+(d-60)/3e3),l=t-(t-s)*u,v=e-(e-o)*u,m=f(l,v,s,o);return this.adaptiveStroke?(this._targetThickness=(m-r)/h*(this._maxWeight-this._weight)+this._weight,this._thickness>this._targetThickness?this._thickness-=a:this._thickness<this._targetThickness&&(this._thickness+=a),n.lineWidth=this._thickness):n.lineWidth=this._weight,n.quadraticCurveTo(s,o,l,v),n.stroke(),{x:l,y:v}}get color(){return this.context.strokeStyle.toString()}set color(t){if("string"!=typeof t)throw new Error("wrong argument type");this.context.strokeStyle=t}get weight(){return this._weight}set weight(t){if("number"!=typeof t)throw new Error("wrong argument type");this._weight=t,this._thickness=t,this._targetThickness=t,this._maxWeight=t+u}get mode(){return this._mode}set mode(t){if("string"!=typeof t)throw new Error("wrong argument type");switch(t){case w.ERASE:this._mode=w.ERASE,this.context.globalCompositeOperation="destination-out";break;case w.FILL:this._mode=w.FILL,this.context.globalCompositeOperation="source-over";break;case w.DISABLED:this._mode=w.DISABLED;break;default:this._mode=w.DRAW,this.context.globalCompositeOperation="source-over"}}isDirty(){return!!this._dirty}fireDirty(){this.dispatchEvent("dirty")}clear(){this.isDirty&&(this._dirty=!1,this.dispatchEvent("clean"),this.mode===w.ERASE?(this.mode=w.DRAW,this.context.clearRect(-10,-10,this.canvas.width+20,this.canvas.height+20),this.mode=w.ERASE):this.context.clearRect(-10,-10,this.canvas.width+20,this.canvas.height+20))}toImage(){return this.canvas.toDataURL()}fill(){const{mouse:t}=this,{context:e}=this,s=Array.from(e.getImageData(t.x,t.y,1,1).data);if(4!==s.length)throw new Error("Expect pixel format of RGBA");if(this._filling)this._fillStack.push([t.x,t.y,s]);else{const{x:e,y:i}=t;this.dispatchEvent("fillstart",{x:e,y:i}),this._filling=!0,setTimeout(()=>{this._floodFill(t.x,t.y,s)},n)}}_floodFill(t,e,s){const{context:i}=this,o=Math.floor(t),n=Math.floor(e),r=i.canvas.width,h=i.canvas.height,a=[[o,n]],c=function(t){const e=t.match(/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i);return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}(this.color),d=i.getImageData(0,0,i.canvas.width,i.canvas.height),u=Array.from(d.data),l=Math.min(10*i.globalAlpha*255,255),f=function(t,e,s,i,o,n){const r=v(t,...o);return o=>{t[o]=e,t[o+1]=s,t[o+2]=i,t[o+3]=n,r(o+4)||(t[o+4]=.01*t[o+4]+.99*e,t[o+4+1]=.01*t[o+4+1]+.99*s,t[o+4+2]=.01*t[o+4+2]+.99*i,t[o+4+3]=.01*t[o+4+3]+.99*n),r(o-4)||(t[o-4]=.01*t[o-4]+.99*e,t[o-4+1]=.01*t[o-4+1]+.99*s,t[o-4+2]=.01*t[o-4+2]+.99*i,t[o-4+3]=.01*t[o-4+3]+.99*n)}}(u,...c,s,l),m=v(u,...s);if(v(u,...c,255)(4*(n*i.canvas.width+o)))return this._filling=!1,void this.dispatchEvent("fillend",{});for(;a.length;){const t=a.pop(),e=t[0];let s=t[1],i=4*(s*r+e);for(;s-- >=0&&m(i);)i-=4*r;i+=4*r,++s;let o=!1,n=!1;for(;s++<h-1&&m(i);)f(i),e>0&&(m(i-4)?o||(a.push([e-1,s]),o=!0):o&&(o=!1)),e<r-1&&(m(i+4)?n||(a.push([e+1,s]),n=!0):n&&(n=!1)),i+=4*r}i.putImageData(d,0,0),this._fillStack.length?this._floodFill(...this._fillStack.shift()):(this._filling=!1,this.dispatchEvent("fillend",{}))}}s.d(e,"Atrament",(function(){return k}))}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdHJhbWVudEpzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2F0cmFtZW50SnMvLi9zcmMvbW91c2UudHMiLCJ3ZWJwYWNrOi8vYXRyYW1lbnRKcy8uL3NyYy9jb25zdGFudHMudHMiLCJ3ZWJwYWNrOi8vYXRyYW1lbnRKcy8uL3NyYy9waXhlbHMudHMiLCJ3ZWJwYWNrOi8vYXRyYW1lbnRKcy8uL3NyYy9ldmVudHMudHMiLCJ3ZWJwYWNrOi8vYXRyYW1lbnRKcy8uL3NyYy91dGlscy50cyIsIndlYnBhY2s6Ly9hdHJhbWVudEpzLy4vc3JjL2F0cmFtZW50LnRzIiwid2VicGFjazovL2F0cmFtZW50SnMvLi9pbmRleC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIlBvaW50IiwieCIsInkiLCJ0aGlzIiwiTW91c2UiLCJzdXBlciIsImRvd24iLCJwcmV2aW91cyIsImZsb29kRmlsbEludGVydmFsIiwibWluTGluZVRoaWNrbmVzcyIsImxpbmVUaGlja25lc3NSYW5nZSIsInRoaWNrbmVzc0luY3JlbWVudCIsIm1pblNtb290aGluZ0ZhY3RvciIsImluaXRpYWxTbW9vdGhpbmdGYWN0b3IiLCJ3ZWlnaHRTcHJlYWQiLCJpbml0aWFsVGhpY2tuZXNzIiwibGluZURpc3RhbmNlIiwieDEiLCJ5MSIsIngyIiwieTIiLCJ4cyIsIk1hdGgiLCJwb3ciLCJ5cyIsInNxcnQiLCJkYXRhIiwiY29tcFIiLCJjb21wRyIsImNvbXBCIiwiY29tcEEiLCJwaXhlbFBvcyIsImciLCJiIiwiYSIsIkF0cmFtZW50RXZlbnRUYXJnZXQiLCJldmVudExpc3RlbmVycyIsIk1hcCIsImV2ZW50TmFtZSIsImhhbmRsZXIiLCJoYW5kbGVycyIsIlNldCIsImFkZCIsInNldCIsImRlbGV0ZSIsImZvckVhY2giLCJpbmNsdWRlcyIsImFyciIsImVsZW1lbnQiLCJsZW5ndGgiLCJ1bnBhY2tPZmZzZXRYWSIsImV2ZW50IiwicmVjdCIsInBvc2l0aW9uIiwiY2hhbmdlZFRvdWNoZXMiLCJvZmZzZXRYIiwiY2xpZW50WCIsImxlZnQiLCJvZmZzZXRZIiwiY2xpZW50WSIsInRvcCIsIkRyYXdpbmdNb2RlIiwiUGF0aERyYXdpbmdNb2RlcyIsIkRSQVciLCJFUkFTRSIsInNlbGVjdG9yIiwiY29uZmlnIiwid2luZG93IiwiRXJyb3IiLCJOb2RlIiwidGFnTmFtZSIsImNhbnZhcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIndpZHRoIiwiaGVpZ2h0IiwibW91c2UiLCJtb3VzZU1vdmUiLCJjYW5jZWxhYmxlIiwicHJldmVudERlZmF1bHQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJuZXdYIiwibmV3WSIsImRyYXciLCJfZGlydHkiLCJmaXJlRGlydHkiLCJtb3VzZURvd24iLCJGSUxMIiwiZmlsbCIsImJlZ2luU3Ryb2tlIiwibW91c2VVcCIsIm54IiwibnkiLCJlbmRTdHJva2UiLCJhZGRFdmVudExpc3RlbmVyIiwiZGVzdHJveSIsImNsZWFyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNvbnRleHQiLCJnZXRDb250ZXh0IiwiZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uIiwiZ2xvYmFsQWxwaGEiLCJzdHJva2VTdHlsZSIsImNvbG9yIiwibGluZUNhcCIsImxpbmVKb2luIiwidHJhbnNsYXRlIiwiX2ZpbGxpbmciLCJfZmlsbFN0YWNrIiwicmVjb3JkU3Ryb2tlcyIsInN0cm9rZU1lbW9yeSIsInNtb290aGluZyIsIl90aGlja25lc3MiLCJfdGFyZ2V0VGhpY2tuZXNzIiwiX3dlaWdodCIsIl9tYXhXZWlnaHQiLCJfbW9kZSIsImFkYXB0aXZlU3Ryb2tlIiwidW5kZWZpbmVkIiwid2VpZ2h0IiwiYmVnaW5QYXRoIiwibW92ZVRvIiwic3Ryb2tlVGltZXN0YW1wIiwicGVyZm9ybWFuY2UiLCJub3ciLCJwdXNoIiwicG9pbnQiLCJ0aW1lIiwiZGlzcGF0Y2hFdmVudCIsImNsb3NlUGF0aCIsInN0cm9rZSIsInBvaW50cyIsInNsaWNlIiwicHJldlgiLCJwcmV2WSIsInJhd0Rpc3QiLCJzbW9vdGhpbmdGYWN0b3IiLCJtaW4iLCJwcm9jWCIsInByb2NZIiwiZGlzdCIsImxpbmVXaWR0aCIsInF1YWRyYXRpY0N1cnZlVG8iLCJ0b1N0cmluZyIsInciLCJESVNBQkxFRCIsImlzRGlydHkiLCJjbGVhclJlY3QiLCJ0b0RhdGFVUkwiLCJzdGFydENvbG9yIiwiQXJyYXkiLCJmcm9tIiwiZ2V0SW1hZ2VEYXRhIiwic2V0VGltZW91dCIsIl9mbG9vZEZpbGwiLCJfc3RhcnRYIiwiX3N0YXJ0WSIsInN0YXJ0WCIsImZsb29yIiwic3RhcnRZIiwiY2FudmFzV2lkdGgiLCJjYW52YXNIZWlnaHQiLCJwaXhlbFN0YWNrIiwiZmlsbENvbG9yIiwiaGV4Q29sb3IiLCJtYXRjaCIsInBhcnNlSW50IiwiY29sb3JMYXllciIsImNvbG9yTGF5ZXJEYXRhIiwiYWxwaGEiLCJjb2xvclBpeGVsIiwiZmlsbFIiLCJmaWxsRyIsImZpbGxCIiwibWF0Y2hlciIsIm1hdGNoQ29sb3IiLCJtYXRjaEZpbGxDb2xvciIsIm5ld1BvcyIsInBvcCIsInJlYWNoTGVmdCIsInJlYWNoUmlnaHQiLCJwdXRJbWFnZURhdGEiLCJzaGlmdCJdLCJtYXBwaW5ncyI6InNEQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFH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K0osRUFBZSxHQUFLYyxFQUFXaEosSUFDMUMySSxFQUFXM0ksR0FFUDlCLEVBQUksSUFDRjhLLEVBQVdoSixFQUFXLEdBQ25Cb0osSUFDSGpCLEVBQVdyQyxLQUFLLENBQUM1SCxFQUFJLEVBQUdDLElBQ3hCaUwsR0FBWSxHQUdQQSxJQUNQQSxHQUFZLElBSVpsTCxFQUFJK0osRUFBYyxJQUNoQmUsRUFBV2hKLEVBQVcsR0FDbkJxSixJQUNIbEIsRUFBV3JDLEtBQUssQ0FBQzVILEVBQUksRUFBR0MsSUFDeEJrTCxHQUFhLEdBR1JBLElBQ1BBLEdBQWEsSUFJakJySixHQUEwQixFQUFkaUksRUFLaEI5RCxFQUFRbUYsYUFBYWQsRUFBWSxFQUFHLEdBRWhDcEssS0FBS3lHLFdBQVczRCxPQUNsQjlDLEtBQUt1SixjQUFjdkosS0FBS3lHLFdBQVcwRSxVQUduQ25MLEtBQUt3RyxVQUFXLEVBQ2hCeEcsS0FBSzZILGNBQWMsVUFBVyxNQ3ZlcEMiLCJmaWxlIjoiYXRyYW1lbnQuYW1kLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsIi8vIG1ha2UgYSBjbGFzcyBmb3IgUG9pbnRcbmNsYXNzIFBvaW50IHtcbiAgeDogbnVtYmVyO1xuXG4gIHk6IG51bWJlcjtcblxuICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgfVxuXG4gIHNldCh4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgfVxufVxuXG4vLyBtYWtlIGEgY2xhc3MgZm9yIHRoZSBtb3VzZSBkYXRhXG5jbGFzcyBNb3VzZSBleHRlbmRzIFBvaW50IHtcblxuICBkb3duOiBib29sZWFuO1xuXG4gIHByZXZpb3VzOiBQb2ludDtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigwLCAwKTtcbiAgICB0aGlzLmRvd24gPSBmYWxzZTtcbiAgICB0aGlzLnByZXZpb3VzID0gbmV3IFBvaW50KDAsIDApO1xuICB9XG59XG5cbmV4cG9ydCB7IE1vdXNlLCBQb2ludCB9O1xuIiwiZXhwb3J0IGNvbnN0IGZsb29kRmlsbEludGVydmFsID0gMTAwO1xuZXhwb3J0IGNvbnN0IG1heExpbmVUaGlja25lc3MgPSA1MDtcbmV4cG9ydCBjb25zdCBtaW5MaW5lVGhpY2tuZXNzID0gMTtcbmV4cG9ydCBjb25zdCBsaW5lVGhpY2tuZXNzUmFuZ2UgPSBtYXhMaW5lVGhpY2tuZXNzIC0gbWluTGluZVRoaWNrbmVzcztcbmV4cG9ydCBjb25zdCB0aGlja25lc3NJbmNyZW1lbnQgPSAwLjU7XG5leHBvcnQgY29uc3QgbWluU21vb3RoaW5nRmFjdG9yID0gMC44NztcbmV4cG9ydCBjb25zdCBpbml0aWFsU21vb3RoaW5nRmFjdG9yID0gMC44NTtcbmV4cG9ydCBjb25zdCB3ZWlnaHRTcHJlYWQgPSAxMDtcbmV4cG9ydCBjb25zdCBpbml0aWFsVGhpY2tuZXNzID0gMjtcbiIsImV4cG9ydCB0eXBlIENvbG9yUGl4ZWxSR0JBID0gW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl1cbmV4cG9ydCB0eXBlIENvbG9yUGl4ZWxSR0IgPSBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpbmVEaXN0YW5jZSAoeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlcikge1xuICAvLyBjYWxjdWxhdGUgZXVjbGlkZWFuIGRpc3RhbmNlIGJldHdlZW4gKHgxLCB5MSkgYW5kICh4MiwgeTIpXG4gIGNvbnN0IHhzID0gTWF0aC5wb3coeDIgLSB4MSwgMik7XG4gIGNvbnN0IHlzID0gTWF0aC5wb3coeTIgLSB5MSwgMik7XG4gIHJldHVybiBNYXRoLnNxcnQoeHMgKyB5cyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoZXhUb1JnYiAoaGV4Q29sb3I6IHN0cmluZyk6IENvbG9yUGl4ZWxSR0Ige1xuICAvLyBTaW5jZSBpbnB1dCB0eXBlIGNvbG9yIHByb3ZpZGVzIGhleCBhbmQgSW1hZ2VEYXRhIGFjY2VwdHMgUkdCIG5lZWQgdG8gdHJhbnNmb3JtXG4gIGNvbnN0IG0gPSBoZXhDb2xvci5tYXRjaCgvXiM/KFtcXGRhLWZdezJ9KShbXFxkYS1mXXsyfSkoW1xcZGEtZl17Mn0pJC9pKTtcbiAgcmV0dXJuIFtcbiAgICBwYXJzZUludChtWzFdLCAxNiksXG4gICAgcGFyc2VJbnQobVsyXSwgMTYpLFxuICAgIHBhcnNlSW50KG1bM10sIDE2KVxuICBdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWF0Y2hDb2xvciAoZGF0YTogbnVtYmVyW10sIGNvbXBSOiBudW1iZXIsIGNvbXBHOiBudW1iZXIsIGNvbXBCOiBudW1iZXIsIGNvbXBBOiBudW1iZXIpIHtcbiAgcmV0dXJuIChwaXhlbFBvczogbnVtYmVyKSA9PiB7XG4gICAgLy8gUGl4ZWwgY29sb3IgZXF1YWxzIGNvbXAgY29sb3I/XG4gICAgY29uc3QgciA9IGRhdGFbcGl4ZWxQb3NdO1xuICAgIGNvbnN0IGcgPSBkYXRhW3BpeGVsUG9zICsgMV07XG4gICAgY29uc3QgYiA9IGRhdGFbcGl4ZWxQb3MgKyAyXTtcbiAgICBjb25zdCBhID0gZGF0YVtwaXhlbFBvcyArIDNdO1xuXG4gICAgcmV0dXJuIChyID09PSBjb21wUiAmJiBnID09PSBjb21wRyAmJiBiID09PSBjb21wQiAmJiBhID09PSBjb21wQSk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb2xvclBpeGVsIChkYXRhOiBudW1iZXJbXSwgZmlsbFI6IG51bWJlciwgZmlsbEc6IG51bWJlciwgZmlsbEI6IG51bWJlciwgc3RhcnRDb2xvcjogQ29sb3JQaXhlbFJHQkEsIGFscGhhOiBudW1iZXIpIHtcbiAgY29uc3QgbWF0Y2hlciA9IG1hdGNoQ29sb3IoZGF0YSwgLi4uc3RhcnRDb2xvcik7XG5cbiAgcmV0dXJuIChwaXhlbFBvczogbnVtYmVyKSA9PiB7XG4gICAgLy8gVXBkYXRlIGZpbGwgY29sb3IgaW4gbWF0cml4XG4gICAgZGF0YVtwaXhlbFBvc10gPSBmaWxsUjtcbiAgICBkYXRhW3BpeGVsUG9zICsgMV0gPSBmaWxsRztcbiAgICBkYXRhW3BpeGVsUG9zICsgMl0gPSBmaWxsQjtcbiAgICBkYXRhW3BpeGVsUG9zICsgM10gPSBhbHBoYTtcblxuICAgIGlmICghbWF0Y2hlcihwaXhlbFBvcyArIDQpKSB7XG4gICAgICBkYXRhW3BpeGVsUG9zICsgNF0gPSBkYXRhW3BpeGVsUG9zICsgNF0gKiAwLjAxICsgZmlsbFIgKiAwLjk5O1xuICAgICAgZGF0YVtwaXhlbFBvcyArIDQgKyAxXSA9IGRhdGFbcGl4ZWxQb3MgKyA0ICsgMV0gKiAwLjAxICsgZmlsbEcgKiAwLjk5O1xuICAgICAgZGF0YVtwaXhlbFBvcyArIDQgKyAyXSA9IGRhdGFbcGl4ZWxQb3MgKyA0ICsgMl0gKiAwLjAxICsgZmlsbEIgKiAwLjk5O1xuICAgICAgZGF0YVtwaXhlbFBvcyArIDQgKyAzXSA9IGRhdGFbcGl4ZWxQb3MgKyA0ICsgM10gKiAwLjAxICsgYWxwaGEgKiAwLjk5O1xuICAgIH1cblxuICAgIGlmICghbWF0Y2hlcihwaXhlbFBvcyAtIDQpKSB7XG4gICAgICBkYXRhW3BpeGVsUG9zIC0gNF0gPSBkYXRhW3BpeGVsUG9zIC0gNF0gKiAwLjAxICsgZmlsbFIgKiAwLjk5O1xuICAgICAgZGF0YVtwaXhlbFBvcyAtIDQgKyAxXSA9IGRhdGFbcGl4ZWxQb3MgLSA0ICsgMV0gKiAwLjAxICsgZmlsbEcgKiAwLjk5O1xuICAgICAgZGF0YVtwaXhlbFBvcyAtIDQgKyAyXSA9IGRhdGFbcGl4ZWxQb3MgLSA0ICsgMl0gKiAwLjAxICsgZmlsbEIgKiAwLjk5O1xuICAgICAgZGF0YVtwaXhlbFBvcyAtIDQgKyAzXSA9IGRhdGFbcGl4ZWxQb3MgLSA0ICsgM10gKiAwLjAxICsgYWxwaGEgKiAwLjk5O1xuICAgIH1cbiAgfTtcbn1cbiIsInR5cGUgRXZlbnRIYW5kbGVyPFQ+ID0gKGRhdGE/OiBUKSA9PiB2b2lkXG5cbmNsYXNzIEF0cmFtZW50RXZlbnRUYXJnZXQge1xuXG4gIGV2ZW50TGlzdGVuZXJzOiBNYXA8c3RyaW5nLCBTZXQ8RXZlbnRIYW5kbGVyPHVua25vd24+Pj47XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5ldmVudExpc3RlbmVycyA9IG5ldyBNYXAoKTtcbiAgfVxuXG4gIGFkZEV2ZW50TGlzdGVuZXI8VD4oZXZlbnROYW1lOiBzdHJpbmcsIGhhbmRsZXI6IEV2ZW50SGFuZGxlcjxUPikge1xuICAgIGNvbnN0IGhhbmRsZXJzID0gdGhpcy5ldmVudExpc3RlbmVycy5nZXQoZXZlbnROYW1lKSB8fCBuZXcgU2V0KCk7XG4gICAgaGFuZGxlcnMuYWRkKGhhbmRsZXIpO1xuICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMuc2V0KGV2ZW50TmFtZSwgaGFuZGxlcnMpO1xuICB9XG5cbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcjxUPihldmVudE5hbWU6IHN0cmluZywgaGFuZGxlcjogRXZlbnRIYW5kbGVyPFQ+KSB7XG4gICAgY29uc3QgaGFuZGxlcnMgPSB0aGlzLmV2ZW50TGlzdGVuZXJzLmdldChldmVudE5hbWUpO1xuICAgIGlmICghaGFuZGxlcnMpIHJldHVybjtcbiAgICBoYW5kbGVycy5kZWxldGUoaGFuZGxlcik7XG4gIH1cblxuICBkaXNwYXRjaEV2ZW50PFQ+IChldmVudE5hbWU6IHN0cmluZywgZGF0YT86IFQpIHtcbiAgICBjb25zdCBoYW5kbGVycyA9IHRoaXMuZXZlbnRMaXN0ZW5lcnMuZ2V0KGV2ZW50TmFtZSk7XG4gICAgaWYgKCFoYW5kbGVycykgcmV0dXJuO1xuICAgIGhhbmRsZXJzLmZvckVhY2goaGFuZGxlciA9PiBoYW5kbGVyKGRhdGEpKTtcbiAgfVxufVxuXG5leHBvcnQgeyBBdHJhbWVudEV2ZW50VGFyZ2V0IH07XG4iLCJleHBvcnQgZnVuY3Rpb24gaW5jbHVkZXM8VD4oYXJyOiBBcnJheTxUPiwgZWxlbWVudDogVCkge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgIGlmIChhcnJbaV0gPT09IGVsZW1lbnQpIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVucGFja09mZnNldFhZKGV2ZW50OiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCwgcmVjdDogRE9NUmVjdCkge1xuICBjb25zdCBwb3NpdGlvbiA9ICgnY2hhbmdlZFRvdWNoZXMnIGluIGV2ZW50KSAmJiBldmVudC5jaGFuZ2VkVG91Y2hlc1swXSB8fCBldmVudCBhcyBNb3VzZUV2ZW50O1xuICBjb25zdCB4ID0gJ29mZnNldFgnIGluIHBvc2l0aW9uID8gcG9zaXRpb24ub2Zmc2V0WCA6IHBvc2l0aW9uLmNsaWVudFggLSByZWN0LmxlZnQ7XG4gIGNvbnN0IHkgPSAnb2Zmc2V0WScgaW4gcG9zaXRpb24gPyBwb3NpdGlvbi5vZmZzZXRZOiBwb3NpdGlvbi5jbGllbnRZIC0gcmVjdC50b3A7XG4gIHJldHVybiB7IHgsIHkgfTtcbn1cbiIsImltcG9ydCB7IE1vdXNlLCBQb2ludCB9IGZyb20gJy4vbW91c2UnO1xuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCAqIGFzIFBpeGVscyBmcm9tICcuL3BpeGVscyc7XG5pbXBvcnQgeyBBdHJhbWVudEV2ZW50VGFyZ2V0IH0gZnJvbSAnLi9ldmVudHMnO1xuaW1wb3J0IHsgQ29sb3JQaXhlbFJHQkEgfSBmcm9tICcuL3BpeGVscyc7XG5pbXBvcnQgeyBpbmNsdWRlcywgdW5wYWNrT2Zmc2V0WFkgfSBmcm9tICcuL3V0aWxzJztcblxuXG5lbnVtIERyYXdpbmdNb2RlIHtcbiAgRFJBVyA9ICdkcmF3JyxcbiAgRVJBU0UgPSAnZXJhc2UnLFxuICBGSUxMID0gJ2ZpbGwnLFxuICBESVNBQkxFRCA9ICdkaXNhYmxlZCcsXG59XG5cbmNvbnN0IFBhdGhEcmF3aW5nTW9kZXMgPSBbRHJhd2luZ01vZGUuRFJBVywgRHJhd2luZ01vZGUuRVJBU0VdO1xuXG50eXBlIEF0cmFtZW50Q29uZmlnID0ge1xuICB3aWR0aD86IG51bWJlclxuICBoZWlnaHQ/OiBudW1iZXJcbiAgY29sb3I/OiBzdHJpbmdcbiAgd2VpZ2h0PzogbnVtYmVyXG4gIHNtb290aGluZz86IG51bWJlclxuICBhZGFwdGl2ZVN0cm9rZT86IGJvb2xlYW5cbiAgbW9kZT86IERyYXdpbmdNb2RlXG59XG5cblxuY2xhc3MgQXRyYW1lbnQgZXh0ZW5kcyBBdHJhbWVudEV2ZW50VGFyZ2V0IHtcblxuICBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xuICBtb3VzZTogTW91c2U7XG5cbiAgcHJpdmF0ZSBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG4gIHByaXZhdGUgX2ZpbGxpbmc6IGJvb2xlYW47XG4gIHByaXZhdGUgX2ZpbGxTdGFjazogW251bWJlciwgbnVtYmVyLCBDb2xvclBpeGVsUkdCQV1bXTtcbiAgcmVjb3JkU3Ryb2tlczogYm9vbGVhbjtcbiAgc3Ryb2tlVGltZXN0YW1wOiBudW1iZXI7XG4gIHN0cm9rZU1lbW9yeTogeyBwb2ludDogUG9pbnQsIHRpbWU6IG51bWJlciB9W107XG5cbiAgcHJpdmF0ZSBfZGlydHk6IGJvb2xlYW47XG4gIHByaXZhdGUgc21vb3RoaW5nOiBudW1iZXI7XG4gIHByaXZhdGUgX3RoaWNrbmVzczogbnVtYmVyO1xuICBwcml2YXRlIF90YXJnZXRUaGlja25lc3M6IG51bWJlcjtcbiAgcHJpdmF0ZSBfd2VpZ2h0OiBudW1iZXI7XG4gIHByaXZhdGUgX21heFdlaWdodDogbnVtYmVyO1xuXG4gIHB1YmxpYyBkZXN0cm95OiAoKSA9PiB2b2lkO1xuICBfbW9kZTogRHJhd2luZ01vZGU7XG4gIGFkYXB0aXZlU3Ryb2tlOiBib29sZWFuO1xuXG5cbiAgY29uc3RydWN0b3Ioc2VsZWN0b3I6IHN0cmluZyB8IEhUTUxDYW52YXNFbGVtZW50LCBjb25maWc6IEF0cmFtZW50Q29uZmlnID0ge30pIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTG9va3MgbGlrZSB3ZVxcJ3JlIG5vdCBydW5uaW5nIGluIGEgYnJvd3NlcicpO1xuICAgIH1cblxuICAgIHN1cGVyKCk7XG5cbiAgICAvLyBnZXQgY2FudmFzIGVsZW1lbnRcbiAgICBpZiAoc2VsZWN0b3IgaW5zdGFuY2VvZiB3aW5kb3cuTm9kZSAmJiBzZWxlY3Rvci50YWdOYW1lID09PSAnQ0FOVkFTJykgdGhpcy5jYW52YXMgPSBzZWxlY3RvcjtcbiAgICBlbHNlIGlmICh0eXBlb2Ygc2VsZWN0b3IgPT09ICdzdHJpbmcnKSB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKGBjYW4ndCBsb29rIGZvciBjYW52YXMgYmFzZWQgb24gJyR7c2VsZWN0b3J9J2ApO1xuICAgIGlmICghdGhpcy5jYW52YXMpIHRocm93IG5ldyBFcnJvcignY2FudmFzIG5vdCBmb3VuZCcpO1xuXG4gICAgLy8gc2V0IGV4dGVybmFsIGNhbnZhcyBwYXJhbXNcbiAgICB0aGlzLmNhbnZhcy53aWR0aCA9IGNvbmZpZy53aWR0aCB8fCB0aGlzLmNhbnZhcy53aWR0aDtcbiAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBjb25maWcuaGVpZ2h0IHx8IHRoaXMuY2FudmFzLmhlaWdodDtcblxuICAgIC8vIGNyZWF0ZSBhIG1vdXNlIG9iamVjdFxuICAgIHRoaXMubW91c2UgPSBuZXcgTW91c2UoKTtcblxuICAgIC8vIG1vdXNlbW92ZSBoYW5kbGVyXG4gICAgY29uc3QgbW91c2VNb3ZlID0gKGV2ZW50OiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmNhbmNlbGFibGUpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVjdCA9IHRoaXMuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgY29uc3QgeyB4LCB5IH0gPSB1bnBhY2tPZmZzZXRYWShldmVudCwgcmVjdCk7XG5cbiAgICAgIGNvbnN0IHsgbW91c2UgfSA9IHRoaXM7XG4gICAgICAvLyBkcmF3IGlmIHdlIHNob3VsZCBkcmF3XG4gICAgICBpZiAobW91c2UuZG93biAmJiBpbmNsdWRlcyhQYXRoRHJhd2luZ01vZGVzLCB0aGlzLm1vZGUpKSB7XG4gICAgICAgIGNvbnN0IHsgeDogbmV3WCwgeTogbmV3WSB9ID0gdGhpcy5kcmF3KHgsIHksIG1vdXNlLnByZXZpb3VzLngsIG1vdXNlLnByZXZpb3VzLnkpO1xuXG4gICAgICAgIGlmICghdGhpcy5fZGlydHkgJiYgdGhpcy5tb2RlID09PSBEcmF3aW5nTW9kZS5EUkFXICYmICh4ICE9PSBtb3VzZS54IHx8IHkgIT09IG1vdXNlLnkpKSB7XG4gICAgICAgICAgdGhpcy5fZGlydHkgPSB0cnVlO1xuICAgICAgICAgIHRoaXMuZmlyZURpcnR5KCk7XG4gICAgICAgIH1cblxuICAgICAgICBtb3VzZS5zZXQoeCwgeSk7XG4gICAgICAgIG1vdXNlLnByZXZpb3VzLnNldChuZXdYLCBuZXdZKTtcbiAgICAgIH1cbiBlbHNlIHtcbiAgICAgICAgbW91c2Uuc2V0KHgsIHkpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBtb3VzZWRvd24gaGFuZGxlclxuICAgIGNvbnN0IG1vdXNlRG93biA9IChldmVudDogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC5jYW5jZWxhYmxlKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgICAvLyB1cGRhdGUgcG9zaXRpb24ganVzdCBpbiBjYXNlXG4gICAgICBtb3VzZU1vdmUoZXZlbnQpO1xuXG4gICAgICAvLyBpZiB3ZSBhcmUgZmlsbGluZyAtIGZpbGwgYW5kIHJldHVyblxuICAgICAgaWYgKHRoaXMubW9kZSA9PT0gRHJhd2luZ01vZGUuRklMTCkge1xuICAgICAgICB0aGlzLmZpbGwoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gcmVtZW1iZXIgaXRcbiAgICAgIGNvbnN0IHsgbW91c2UgfSA9IHRoaXM7XG4gICAgICBtb3VzZS5wcmV2aW91cy5zZXQobW91c2UueCwgbW91c2UueSk7XG4gICAgICBtb3VzZS5kb3duID0gdHJ1ZTtcblxuICAgICAgdGhpcy5iZWdpblN0cm9rZShtb3VzZS5wcmV2aW91cy54LCBtb3VzZS5wcmV2aW91cy55KTtcbiAgICB9O1xuXG4gICAgY29uc3QgbW91c2VVcCA9IChldmVudDogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpID0+IHtcbiAgICAgIGlmICh0aGlzLm1vZGUgPT09IERyYXdpbmdNb2RlLkZJTEwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB7IG1vdXNlIH0gPSB0aGlzO1xuXG4gICAgICBpZiAoIW1vdXNlLmRvd24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZWN0ID0gdGhpcy5jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBjb25zdCB7IHgsIHkgfSA9IHVucGFja09mZnNldFhZKGV2ZW50LCByZWN0KTtcbiAgICAgIG1vdXNlLmRvd24gPSBmYWxzZTtcblxuICAgICAgaWYgKG1vdXNlLnggPT09IHggJiYgbW91c2UueSA9PT0geSAmJiBpbmNsdWRlcyhQYXRoRHJhd2luZ01vZGVzLCB0aGlzLm1vZGUpKSB7XG4gICAgICAgIGNvbnN0IHsgeDogbngsIHk6IG55IH0gPSB0aGlzLmRyYXcobW91c2UueCwgbW91c2UueSwgbW91c2UucHJldmlvdXMueCwgbW91c2UucHJldmlvdXMueSk7XG4gICAgICAgIG1vdXNlLnByZXZpb3VzLnNldChueCwgbnkpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmVuZFN0cm9rZShtb3VzZS54LCBtb3VzZS55KTtcbiAgICB9O1xuXG4gICAgLy8gYXR0YWNoIGxpc3RlbmVyc1xuICAgIHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG1vdXNlTW92ZSk7XG4gICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgbW91c2VEb3duKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgbW91c2VVcCk7XG4gICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIG1vdXNlRG93bik7XG4gICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBtb3VzZVVwKTtcbiAgICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBtb3VzZU1vdmUpO1xuXG4gICAgLy8gaGVscGVyIGZvciBkZXN0cm95aW5nIEF0cmFtZW50IChyZW1vdmluZyBldmVudCBsaXN0ZW5lcnMpXG4gICAgdGhpcy5kZXN0cm95ID0gKCkgPT4ge1xuICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgdGhpcy5jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgbW91c2VNb3ZlKTtcbiAgICAgIHRoaXMuY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG1vdXNlRG93bik7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgbW91c2VVcCk7XG4gICAgICB0aGlzLmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgbW91c2VEb3duKTtcbiAgICAgIHRoaXMuY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgbW91c2VVcCk7XG4gICAgICB0aGlzLmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBtb3VzZU1vdmUpO1xuICAgIH07XG5cbiAgICAvLyBzZXQgaW50ZXJuYWwgY2FudmFzIHBhcmFtc1xuICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgdGhpcy5jb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdzb3VyY2Utb3Zlcic7XG4gICAgdGhpcy5jb250ZXh0Lmdsb2JhbEFscGhhID0gMTtcbiAgICB0aGlzLmNvbnRleHQuc3Ryb2tlU3R5bGUgPSBjb25maWcuY29sb3IgfHwgJ3JnYmEoMCwwLDAsMSknO1xuICAgIHRoaXMuY29udGV4dC5saW5lQ2FwID0gJ3JvdW5kJztcbiAgICB0aGlzLmNvbnRleHQubGluZUpvaW4gPSAncm91bmQnO1xuICAgIHRoaXMuY29udGV4dC50cmFuc2xhdGUoMC41LCAwLjUpO1xuXG4gICAgdGhpcy5fZmlsbGluZyA9IGZhbHNlO1xuICAgIHRoaXMuX2ZpbGxTdGFjayA9IFtdO1xuXG4gICAgLy8gc2V0IGRyYXdpbmcgcGFyYW1zXG4gICAgdGhpcy5yZWNvcmRTdHJva2VzID0gZmFsc2U7XG4gICAgdGhpcy5zdHJva2VNZW1vcnkgPSBbXTtcblxuICAgIHRoaXMuc21vb3RoaW5nID0gQ29uc3RhbnRzLmluaXRpYWxTbW9vdGhpbmdGYWN0b3I7XG4gICAgdGhpcy5fdGhpY2tuZXNzID0gQ29uc3RhbnRzLmluaXRpYWxUaGlja25lc3M7XG4gICAgdGhpcy5fdGFyZ2V0VGhpY2tuZXNzID0gdGhpcy5fdGhpY2tuZXNzO1xuICAgIHRoaXMuX3dlaWdodCA9IHRoaXMuX3RoaWNrbmVzcztcbiAgICB0aGlzLl9tYXhXZWlnaHQgPSB0aGlzLl90aGlja25lc3MgKyBDb25zdGFudHMud2VpZ2h0U3ByZWFkO1xuXG4gICAgdGhpcy5fbW9kZSA9IERyYXdpbmdNb2RlLkRSQVc7XG4gICAgdGhpcy5hZGFwdGl2ZVN0cm9rZSA9IHRydWU7XG5cbiAgICBpZiAoY29uZmlnLndlaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLndlaWdodCA9IGNvbmZpZy53ZWlnaHQ7XG4gICAgfVxuICAgIGlmIChjb25maWcuc21vb3RoaW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuc21vb3RoaW5nID0gY29uZmlnLnNtb290aGluZztcbiAgICB9XG4gICAgaWYgKGNvbmZpZy5hZGFwdGl2ZVN0cm9rZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmFkYXB0aXZlU3Ryb2tlID0gY29uZmlnLmFkYXB0aXZlU3Ryb2tlO1xuICAgIH1cbiAgICBpZiAoY29uZmlnLm1vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5tb2RlID0gY29uZmlnLm1vZGU7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEJlZ2lucyBhIHN0cm9rZSBhdCBhIGdpdmVuIHBvc2l0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5XG4gICAqL1xuICBiZWdpblN0cm9rZSh4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgIHRoaXMuY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICB0aGlzLmNvbnRleHQubW92ZVRvKHgsIHkpO1xuXG4gICAgaWYgKHRoaXMucmVjb3JkU3Ryb2tlcykge1xuICAgICAgdGhpcy5zdHJva2VUaW1lc3RhbXAgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIHRoaXMuc3Ryb2tlTWVtb3J5LnB1c2goeyBwb2ludDogbmV3IFBvaW50KHgsIHkpLCB0aW1lOiBwZXJmb3JtYW5jZS5ub3coKSAtIHRoaXMuc3Ryb2tlVGltZXN0YW1wIH0pO1xuICAgIH1cbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoJ3N0cm9rZXN0YXJ0JywgeyB4LCB5IH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuZHMgYSBzdHJva2UgYXQgYSBnaXZlbiBwb3NpdGlvblxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0geFxuICAgKiBAcGFyYW0ge251bWJlcn0geVxuICAgKi9cbiAgZW5kU3Ryb2tlKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgdGhpcy5jb250ZXh0LmNsb3NlUGF0aCgpO1xuXG4gICAgaWYgKHRoaXMucmVjb3JkU3Ryb2tlcykge1xuICAgICAgdGhpcy5zdHJva2VNZW1vcnkucHVzaCh7IHBvaW50OiBuZXcgUG9pbnQoeCwgeSksIHRpbWU6IHBlcmZvcm1hbmNlLm5vdygpIC0gdGhpcy5zdHJva2VUaW1lc3RhbXAgfSk7XG4gICAgfVxuICAgIHRoaXMuZGlzcGF0Y2hFdmVudCgnc3Ryb2tlZW5kJywgeyB4LCB5IH0pO1xuXG4gICAgaWYgKHRoaXMucmVjb3JkU3Ryb2tlcykge1xuICAgICAgY29uc3Qgc3Ryb2tlID0ge1xuICAgICAgICBwb2ludHM6IHRoaXMuc3Ryb2tlTWVtb3J5LnNsaWNlKCksXG4gICAgICAgIG1vZGU6IHRoaXMubW9kZSxcbiAgICAgICAgd2VpZ2h0OiB0aGlzLndlaWdodCxcbiAgICAgICAgc21vb3RoaW5nOiB0aGlzLnNtb290aGluZyxcbiAgICAgICAgY29sb3I6IHRoaXMuY29sb3IsXG4gICAgICAgIGFkYXB0aXZlU3Ryb2tlOiB0aGlzLmFkYXB0aXZlU3Ryb2tlXG4gICAgICB9O1xuXG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoJ3N0cm9rZXJlY29yZGVkJywgeyBzdHJva2UgfSk7XG4gICAgfVxuICAgIHRoaXMuc3Ryb2tlTWVtb3J5ID0gW107XG4gICAgZGVsZXRlICh0aGlzLnN0cm9rZVRpbWVzdGFtcCk7XG4gIH1cblxuICAvKipcbiAgICogRHJhd3MgYSBzbW9vdGggcXVhZHJhdGljIGN1cnZlIHdpdGggYWRhcHRpdmUgc3Ryb2tlIHRoaWNrbmVzc1xuICAgKiBiZXR3ZWVuIHR3byBwb2ludHNcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHggY3VycmVudCBYIGNvb3JkaW5hdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgY3VycmVudCBZIGNvb3JkaW5hdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IHByZXZYIHByZXZpb3VzIFggY29vcmRpbmF0ZVxuICAgKiBAcGFyYW0ge251bWJlcn0gcHJldlkgcHJldmlvdXMgWSBjb29yZGluYXRlXG4gICAqL1xuICBkcmF3KHg6IG51bWJlciwgeTogbnVtYmVyLCBwcmV2WDogbnVtYmVyLCBwcmV2WTogbnVtYmVyKSB7XG4gICAgaWYgKHRoaXMucmVjb3JkU3Ryb2tlcykge1xuICAgICAgdGhpcy5zdHJva2VNZW1vcnkucHVzaCh7IHBvaW50OiBuZXcgUG9pbnQoeCwgeSksIHRpbWU6IHBlcmZvcm1hbmNlLm5vdygpIC0gdGhpcy5zdHJva2VUaW1lc3RhbXAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgeyBjb250ZXh0IH0gPSB0aGlzO1xuICAgIC8vIGNhbGN1bGF0ZSBkaXN0YW5jZSBmcm9tIHByZXZpb3VzIHBvaW50XG4gICAgY29uc3QgcmF3RGlzdCA9IFBpeGVscy5saW5lRGlzdGFuY2UoeCwgeSwgcHJldlgsIHByZXZZKTtcblxuICAgIC8vIG5vdywgaGVyZSB3ZSBzY2FsZSB0aGUgaW5pdGlhbCBzbW9vdGhpbmcgZmFjdG9yIGJ5IHRoZSByYXcgZGlzdGFuY2VcbiAgICAvLyB0aGlzIG1lYW5zIHRoYXQgd2hlbiB0aGUgbW91c2UgbW92ZXMgZmFzdCwgdGhlcmUgaXMgbW9yZSBzbW9vdGhpbmdcbiAgICAvLyBhbmQgd2hlbiB3ZSdyZSBkcmF3aW5nIHNtYWxsIGRldGFpbGVkIHN0dWZmLCB3ZSBoYXZlIG1vcmUgY29udHJvbFxuICAgIC8vIGFsc28gd2UgaGFyZCBjbGlwIGF0IDFcbiAgICBjb25zdCBzbW9vdGhpbmdGYWN0b3IgPSBNYXRoLm1pbihDb25zdGFudHMubWluU21vb3RoaW5nRmFjdG9yLCB0aGlzLnNtb290aGluZyArIChyYXdEaXN0IC0gNjApIC8gMzAwMCk7XG5cbiAgICAvLyBjYWxjdWxhdGUgcHJvY2Vzc2VkIGNvb3JkaW5hdGVzXG4gICAgY29uc3QgcHJvY1ggPSB4IC0gKHggLSBwcmV2WCkgKiBzbW9vdGhpbmdGYWN0b3I7XG4gICAgY29uc3QgcHJvY1kgPSB5IC0gKHkgLSBwcmV2WSkgKiBzbW9vdGhpbmdGYWN0b3I7XG5cbiAgICAvLyByZWNhbGN1bGF0ZSBkaXN0YW5jZSBmcm9tIHByZXZpb3VzIHBvaW50LCB0aGlzIHRpbWUgcmVsYXRpdmUgdG8gdGhlIHNtb290aGVkIGNvb3Jkc1xuICAgIGNvbnN0IGRpc3QgPSBQaXhlbHMubGluZURpc3RhbmNlKHByb2NYLCBwcm9jWSwgcHJldlgsIHByZXZZKTtcblxuICAgIGlmICh0aGlzLmFkYXB0aXZlU3Ryb2tlKSB7XG4gICAgICAvLyBjYWxjdWxhdGUgdGFyZ2V0IHRoaWNrbmVzcyBiYXNlZCBvbiB0aGUgbmV3IGRpc3RhbmNlXG4gICAgICB0aGlzLl90YXJnZXRUaGlja25lc3MgPSAoZGlzdCAtIENvbnN0YW50cy5taW5MaW5lVGhpY2tuZXNzKVxuICAgICAgICAvIENvbnN0YW50cy5saW5lVGhpY2tuZXNzUmFuZ2UgKiAodGhpcy5fbWF4V2VpZ2h0IC0gdGhpcy5fd2VpZ2h0KSArIHRoaXMuX3dlaWdodDtcbiAgICAgIC8vIGFwcHJvYWNoIHRoZSB0YXJnZXQgZ3JhZHVhbGx5XG4gICAgICBpZiAodGhpcy5fdGhpY2tuZXNzID4gdGhpcy5fdGFyZ2V0VGhpY2tuZXNzKSB7XG4gICAgICAgIHRoaXMuX3RoaWNrbmVzcyAtPSBDb25zdGFudHMudGhpY2tuZXNzSW5jcmVtZW50O1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodGhpcy5fdGhpY2tuZXNzIDwgdGhpcy5fdGFyZ2V0VGhpY2tuZXNzKSB7XG4gICAgICAgIHRoaXMuX3RoaWNrbmVzcyArPSBDb25zdGFudHMudGhpY2tuZXNzSW5jcmVtZW50O1xuICAgICAgfVxuICAgICAgLy8gc2V0IGxpbmUgd2lkdGhcbiAgICAgIGNvbnRleHQubGluZVdpZHRoID0gdGhpcy5fdGhpY2tuZXNzO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIC8vIGxpbmUgd2lkdGggaXMgZXF1YWwgdG8gZGVmYXVsdCB3ZWlnaHRcbiAgICAgIGNvbnRleHQubGluZVdpZHRoID0gdGhpcy5fd2VpZ2h0O1xuICAgIH1cblxuICAgIC8vIGRyYXcgdXNpbmcgcXVhZCBpbnRlcnBvbGF0aW9uXG4gICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKHByZXZYLCBwcmV2WSwgcHJvY1gsIHByb2NZKTtcbiAgICBjb250ZXh0LnN0cm9rZSgpO1xuXG4gICAgcmV0dXJuIHsgeDogcHJvY1gsIHk6IHByb2NZIH07XG4gIH1cblxuICBnZXQgY29sb3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGV4dC5zdHJva2VTdHlsZS50b1N0cmluZygpO1xuICB9XG5cbiAgc2V0IGNvbG9yKGMpIHtcbiAgICBpZiAodHlwZW9mIGMgIT09ICdzdHJpbmcnKSB0aHJvdyBuZXcgRXJyb3IoJ3dyb25nIGFyZ3VtZW50IHR5cGUnKTtcbiAgICB0aGlzLmNvbnRleHQuc3Ryb2tlU3R5bGUgPSBjO1xuICB9XG5cbiAgZ2V0IHdlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5fd2VpZ2h0O1xuICB9XG5cbiAgc2V0IHdlaWdodCh3KSB7XG4gICAgaWYgKHR5cGVvZiB3ICE9PSAnbnVtYmVyJykgdGhyb3cgbmV3IEVycm9yKCd3cm9uZyBhcmd1bWVudCB0eXBlJyk7XG4gICAgdGhpcy5fd2VpZ2h0ID0gdztcbiAgICB0aGlzLl90aGlja25lc3MgPSB3O1xuICAgIHRoaXMuX3RhcmdldFRoaWNrbmVzcyA9IHc7XG4gICAgdGhpcy5fbWF4V2VpZ2h0ID0gdyArIENvbnN0YW50cy53ZWlnaHRTcHJlYWQ7XG4gIH1cblxuICBnZXQgbW9kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fbW9kZTtcbiAgfVxuXG4gIHNldCBtb2RlKG0pIHtcbiAgICBpZiAodHlwZW9mIG0gIT09ICdzdHJpbmcnKSB0aHJvdyBuZXcgRXJyb3IoJ3dyb25nIGFyZ3VtZW50IHR5cGUnKTtcbiAgICBzd2l0Y2ggKG0pIHtcbiAgICAgIGNhc2UgRHJhd2luZ01vZGUuRVJBU0U6XG4gICAgICAgIHRoaXMuX21vZGUgPSBEcmF3aW5nTW9kZS5FUkFTRTtcbiAgICAgICAgdGhpcy5jb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdkZXN0aW5hdGlvbi1vdXQnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRHJhd2luZ01vZGUuRklMTDpcbiAgICAgICAgdGhpcy5fbW9kZSA9IERyYXdpbmdNb2RlLkZJTEw7XG4gICAgICAgIHRoaXMuY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRHJhd2luZ01vZGUuRElTQUJMRUQ6XG4gICAgICAgIHRoaXMuX21vZGUgPSBEcmF3aW5nTW9kZS5ESVNBQkxFRDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aGlzLl9tb2RlID0gRHJhd2luZ01vZGUuRFJBVztcbiAgICAgICAgdGhpcy5jb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdzb3VyY2Utb3Zlcic7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGlzRGlydHkoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5fZGlydHk7XG4gIH1cblxuICBmaXJlRGlydHkoKSB7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KCdkaXJ0eScpO1xuICB9XG5cbiAgY2xlYXIoKSB7XG4gICAgaWYgKCF0aGlzLmlzRGlydHkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9kaXJ0eSA9IGZhbHNlO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudCgnY2xlYW4nKTtcblxuICAgIC8vIG1ha2Ugc3VyZSB3ZSdyZSBpbiB0aGUgcmlnaHQgY29tcG9zaXRpbmcgbW9kZSwgYW5kIGVyYXNlIGV2ZXJ5dGhpbmdcbiAgICBpZiAodGhpcy5tb2RlID09PSBEcmF3aW5nTW9kZS5FUkFTRSkge1xuICAgICAgdGhpcy5tb2RlID0gRHJhd2luZ01vZGUuRFJBVztcbiAgICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoLTEwLCAtMTAsIHRoaXMuY2FudmFzLndpZHRoICsgMjAsIHRoaXMuY2FudmFzLmhlaWdodCArIDIwKTtcbiAgICAgIHRoaXMubW9kZSA9IERyYXdpbmdNb2RlLkVSQVNFO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoLTEwLCAtMTAsIHRoaXMuY2FudmFzLndpZHRoICsgMjAsIHRoaXMuY2FudmFzLmhlaWdodCArIDIwKTtcbiAgICB9XG4gIH1cblxuICB0b0ltYWdlKCkge1xuICAgIHJldHVybiB0aGlzLmNhbnZhcy50b0RhdGFVUkwoKTtcbiAgfVxuXG4gIGZpbGwoKSB7XG4gICAgY29uc3QgeyBtb3VzZSB9ID0gdGhpcztcbiAgICBjb25zdCB7IGNvbnRleHQgfSA9IHRoaXM7XG4gICAgLy8gY29udmVydGluZyB0byBBcnJheSBiZWNhdXNlIFNhZmFyaSA5XG4gICAgY29uc3Qgc3RhcnRDb2xvciA9IEFycmF5LmZyb20oY29udGV4dC5nZXRJbWFnZURhdGEobW91c2UueCwgbW91c2UueSwgMSwgMSkuZGF0YSkgYXMgQ29sb3JQaXhlbFJHQkE7XG4gICAgaWYgKHN0YXJ0Q29sb3IubGVuZ3RoICE9PSA0KSB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdCBwaXhlbCBmb3JtYXQgb2YgUkdCQScpO1xuXG4gICAgaWYgKCF0aGlzLl9maWxsaW5nKSB7XG4gICAgICBjb25zdCB7IHgsIHkgfSA9IG1vdXNlO1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KCdmaWxsc3RhcnQnLCB7IHgsIHkgfSk7XG4gICAgICB0aGlzLl9maWxsaW5nID0gdHJ1ZTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4geyB0aGlzLl9mbG9vZEZpbGwobW91c2UueCwgbW91c2UueSwgc3RhcnRDb2xvcik7IH0sIENvbnN0YW50cy5mbG9vZEZpbGxJbnRlcnZhbCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5fZmlsbFN0YWNrLnB1c2goW1xuICAgICAgICBtb3VzZS54LFxuICAgICAgICBtb3VzZS55LFxuICAgICAgICBzdGFydENvbG9yXG4gICAgICBdKTtcbiAgICB9XG4gIH1cblxuICBfZmxvb2RGaWxsKF9zdGFydFg6IG51bWJlciwgX3N0YXJ0WTogbnVtYmVyLCBzdGFydENvbG9yOiBDb2xvclBpeGVsUkdCQSkge1xuICAgIGNvbnN0IHsgY29udGV4dCB9ID0gdGhpcztcbiAgICBjb25zdCBzdGFydFggPSBNYXRoLmZsb29yKF9zdGFydFgpO1xuICAgIGNvbnN0IHN0YXJ0WSA9IE1hdGguZmxvb3IoX3N0YXJ0WSk7XG4gICAgY29uc3QgY2FudmFzV2lkdGggPSBjb250ZXh0LmNhbnZhcy53aWR0aDtcbiAgICBjb25zdCBjYW52YXNIZWlnaHQgPSBjb250ZXh0LmNhbnZhcy5oZWlnaHQ7XG4gICAgY29uc3QgcGl4ZWxTdGFjayA9IFtbc3RhcnRYLCBzdGFydFldXTtcblxuICAgIC8vIGhleCBuZWVkcyB0byBiZSB0cmFzZm9ybWVkIHRvIHJnYiBzaW5jZSBjb2xvckxheWVyIGFjY2VwdHMgUkdCXG4gICAgY29uc3QgZmlsbENvbG9yID0gUGl4ZWxzLmhleFRvUmdiKHRoaXMuY29sb3IpO1xuXG4gICAgLy8gTmVlZCB0byBzYXZlIGN1cnJlbnQgY29udGV4dCB3aXRoIGNvbG9ycywgd2Ugd2lsbCB1cGRhdGUgaXRcbiAgICBjb25zdCBjb2xvckxheWVyID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgY29udGV4dC5jYW52YXMud2lkdGgsIGNvbnRleHQuY2FudmFzLmhlaWdodCk7XG5cbiAgICBjb25zdCBjb2xvckxheWVyRGF0YSA9IEFycmF5LmZyb20oY29sb3JMYXllci5kYXRhKTtcbiAgICBjb25zdCBhbHBoYSA9IE1hdGgubWluKGNvbnRleHQuZ2xvYmFsQWxwaGEgKiAxMCAqIDI1NSwgMjU1KTtcbiAgICBjb25zdCBjb2xvclBpeGVsID0gUGl4ZWxzLmNvbG9yUGl4ZWwoY29sb3JMYXllckRhdGEsIC4uLmZpbGxDb2xvciwgc3RhcnRDb2xvciwgYWxwaGEpO1xuICAgIGNvbnN0IG1hdGNoQ29sb3IgPSBQaXhlbHMubWF0Y2hDb2xvcihjb2xvckxheWVyRGF0YSwgLi4uc3RhcnRDb2xvcik7XG4gICAgY29uc3QgbWF0Y2hGaWxsQ29sb3IgPSBQaXhlbHMubWF0Y2hDb2xvcihjb2xvckxheWVyRGF0YSwgLi4uZmlsbENvbG9yLCAyNTUpO1xuXG4gICAgLy8gY2hlY2sgaWYgd2UncmUgdHJ5aW5nIHRvIGZpbGwgd2l0aCB0aGUgc2FtZSBjb2xvdXIsIGlmIHNvLCBzdG9wXG4gICAgaWYgKG1hdGNoRmlsbENvbG9yKChzdGFydFkgKiBjb250ZXh0LmNhbnZhcy53aWR0aCArIHN0YXJ0WCkgKiA0KSkge1xuICAgICAgdGhpcy5fZmlsbGluZyA9IGZhbHNlO1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KCdmaWxsZW5kJywge30pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHdoaWxlIChwaXhlbFN0YWNrLmxlbmd0aCkge1xuICAgICAgY29uc3QgbmV3UG9zID0gcGl4ZWxTdGFjay5wb3AoKTtcbiAgICAgIGNvbnN0IHggPSBuZXdQb3NbMF07XG4gICAgICBsZXQgeSA9IG5ld1Bvc1sxXTtcblxuICAgICAgbGV0IHBpeGVsUG9zID0gKHkgKiBjYW52YXNXaWR0aCArIHgpICogNDtcblxuICAgICAgd2hpbGUgKHktLSA+PSAwICYmIG1hdGNoQ29sb3IocGl4ZWxQb3MpKSB7XG4gICAgICAgIHBpeGVsUG9zIC09IGNhbnZhc1dpZHRoICogNDtcbiAgICAgIH1cbiAgICAgIHBpeGVsUG9zICs9IGNhbnZhc1dpZHRoICogNDtcblxuICAgICAgKyt5O1xuXG4gICAgICBsZXQgcmVhY2hMZWZ0ID0gZmFsc2U7XG4gICAgICBsZXQgcmVhY2hSaWdodCA9IGZhbHNlO1xuXG4gICAgICB3aGlsZSAoeSsrIDwgY2FudmFzSGVpZ2h0IC0gMSAmJiBtYXRjaENvbG9yKHBpeGVsUG9zKSkge1xuICAgICAgICBjb2xvclBpeGVsKHBpeGVsUG9zKTtcblxuICAgICAgICBpZiAoeCA+IDApIHtcbiAgICAgICAgICBpZiAobWF0Y2hDb2xvcihwaXhlbFBvcyAtIDQpKSB7XG4gICAgICAgICAgICBpZiAoIXJlYWNoTGVmdCkge1xuICAgICAgICAgICAgICBwaXhlbFN0YWNrLnB1c2goW3ggLSAxLCB5XSk7XG4gICAgICAgICAgICAgIHJlYWNoTGVmdCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKHJlYWNoTGVmdCkge1xuICAgICAgICAgICAgcmVhY2hMZWZ0ID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHggPCBjYW52YXNXaWR0aCAtIDEpIHtcbiAgICAgICAgICBpZiAobWF0Y2hDb2xvcihwaXhlbFBvcyArIDQpKSB7XG4gICAgICAgICAgICBpZiAoIXJlYWNoUmlnaHQpIHtcbiAgICAgICAgICAgICAgcGl4ZWxTdGFjay5wdXNoKFt4ICsgMSwgeV0pO1xuICAgICAgICAgICAgICByZWFjaFJpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAocmVhY2hSaWdodCkge1xuICAgICAgICAgICAgcmVhY2hSaWdodCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHBpeGVsUG9zICs9IGNhbnZhc1dpZHRoICogNDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgY29udGV4dCB3aXRoIGZpbGxlZCBidWNrZXQhXG4gICAgY29udGV4dC5wdXRJbWFnZURhdGEoY29sb3JMYXllciwgMCwgMCk7XG5cbiAgICBpZiAodGhpcy5fZmlsbFN0YWNrLmxlbmd0aCkge1xuICAgICAgdGhpcy5fZmxvb2RGaWxsKC4uLnRoaXMuX2ZpbGxTdGFjay5zaGlmdCgpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLl9maWxsaW5nID0gZmFsc2U7XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoJ2ZpbGxlbmQnLCB7fSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IEF0cmFtZW50IH07XG4iLCJleHBvcnQgeyBBdHJhbWVudCB9IGZyb20gJy4vc3JjL2F0cmFtZW50JztcbiJdLCJzb3VyY2VSb290IjoiIn0=